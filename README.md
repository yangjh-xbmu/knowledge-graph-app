# TypeScript çŸ¥è¯†å›¾è°±å­¦ä¹ åº”ç”¨

ä¸€ä¸ªåŸºäº React Flow æ„å»ºçš„äº¤äº’å¼ TypeScript å­¦ä¹ å¹³å°ï¼Œé€šè¿‡å¯è§†åŒ–çŸ¥è¯†å›¾è°±å’Œ AI ç”Ÿæˆçš„æµ‹è¯•é¢˜å¸®åŠ©å¼€å‘è€…ç³»ç»Ÿæ€§å­¦ä¹  TypeScriptã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ—ºï¸ äº¤äº’å¼çŸ¥è¯†å›¾è°±

- **å¯è§†åŒ–å­¦ä¹ è·¯å¾„**ï¼šæ¸…æ™°å±•ç¤º TypeScript çŸ¥è¯†ç‚¹ä¹‹é—´çš„ä¾èµ–å…³ç³»
- **åˆ†å±‚çº§å­¦ä¹ **ï¼šä»åŸºç¡€åˆ°é«˜çº§ï¼Œå¾ªåºæ¸è¿›çš„å­¦ä¹ ä½“ç³»
- **å®æ—¶äº¤äº’**ï¼šç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†å†…å®¹ï¼Œæ”¯æŒæ‹–æ‹½å’Œç¼©æ”¾
- **å­¦ä¹ è¿›åº¦è¿½è¸ª**ï¼šå·²æŒæ¡çš„çŸ¥è¯†ç‚¹ä¼šæœ‰è§†è§‰æ ‡è¯†

### ğŸ“š ä¸°å¯Œçš„å­¦ä¹ å†…å®¹

- **å®Œæ•´çŸ¥è¯†ä½“ç³»**ï¼šæ¶µç›– TypeScript ä»å…¥é—¨åˆ°è¿›é˜¶çš„æ‰€æœ‰æ ¸å¿ƒæ¦‚å¿µ
- **å®ç”¨ä»£ç ç¤ºä¾‹**ï¼šæ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½é…æœ‰å®é™…ä»£ç æ¼”ç¤º
- **Markdown æ¸²æŸ“**ï¼šæ”¯æŒä»£ç é«˜äº®å’Œæ ¼å¼åŒ–æ˜¾ç¤º
- **åˆ†ç±»ç®¡ç†**ï¼šåŸºç¡€ã€è¿›é˜¶ã€å®è·µä¸‰å¤§ç±»åˆ«

### ğŸ¤– AI æ™ºèƒ½æµ‹è¯•

- **åŠ¨æ€é¢˜ç›®ç”Ÿæˆ**ï¼šåŸºäº Google Gemini AI ç”Ÿæˆä¸ªæ€§åŒ–æµ‹è¯•é¢˜
- **è‡ªé€‚åº”æ•°é‡**ï¼šæ ¹æ®çŸ¥è¯†ç‚¹å¤æ‚åº¦æ™ºèƒ½è°ƒæ•´é¢˜ç›®æ•°é‡
- **å³æ—¶åé¦ˆ**ï¼šç­”é¢˜åç«‹å³æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆå’Œè¯¦ç»†è§£é‡Š
- **æŒæ¡çŠ¶æ€ç®¡ç†**ï¼šé€šè¿‡æµ‹è¯•è‡ªåŠ¨æ ‡è®°çŸ¥è¯†ç‚¹æŒæ¡çŠ¶æ€

### ğŸ’¾ æ•°æ®æŒä¹…åŒ–

- **æœ¬åœ°å­˜å‚¨**ï¼šå­¦ä¹ è¿›åº¦è‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨
- **çŠ¶æ€æ¢å¤**ï¼šåˆ·æ–°é¡µé¢åè‡ªåŠ¨æ¢å¤å­¦ä¹ è¿›åº¦
- **è·¨ä¼šè¯ä¿æŒ**ï¼šå…³é—­æµè§ˆå™¨åé‡æ–°æ‰“å¼€ä»ä¿æŒå­¦ä¹ çŠ¶æ€

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶

- **Next.js 15.4.6** - React å…¨æ ˆæ¡†æ¶ï¼Œæ”¯æŒ Turbopack
- **React 19.1.0** - ç”¨æˆ·ç•Œé¢æ„å»ºåº“
- **TypeScript 5** - ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†

### UI ç»„ä»¶ä¸æ ·å¼

- **React Flow 11.11.4** - å¼ºå¤§çš„å›¾å½¢å¯è§†åŒ–åº“
- **Tailwind CSS 4** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **DaisyUI 5.0.50** - åŸºäº Tailwind çš„ç»„ä»¶åº“

### AI é›†æˆ

- **LangChain 0.3.30** - AI åº”ç”¨å¼€å‘æ¡†æ¶
- **@langchain/google-genai 0.2.16** - Google Gemini AI é›†æˆ

### å†…å®¹æ¸²æŸ“

- **react-markdown 10.1.0** - Markdown å†…å®¹æ¸²æŸ“
- **remark-gfm 4.0.1** - GitHub é£æ ¼ Markdown æ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npmã€yarnã€pnpm æˆ– bun åŒ…ç®¡ç†å™¨

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone <repository-url>
cd knowledge-graph-app
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

```bash
# åˆ›å»º .env.local æ–‡ä»¶
cp .env.example .env.local

# ç¼–è¾‘ .env.localï¼Œæ·»åŠ  Google AI API Key
NEXT_PUBLIC_GOOGLE_API_KEY=your_google_ai_api_key_here
```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
# æˆ–
bun dev
```

5. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

1. **æµè§ˆçŸ¥è¯†å›¾è°±**ï¼šåœ¨ä¸»ç•Œé¢æŸ¥çœ‹å®Œæ•´çš„ TypeScript å­¦ä¹ è·¯å¾„
2. **æŸ¥çœ‹çŸ¥è¯†ç‚¹**ï¼šç‚¹å‡»ä»»æ„èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†å†…å®¹å’Œä»£ç ç¤ºä¾‹
3. **å¼€å§‹æµ‹è¯•**ï¼šåœ¨çŸ¥è¯†ç‚¹è¯¦æƒ…é¡µç‚¹å‡»"å¼€å§‹æµ‹è¯•"æŒ‰é’®
4. **å®Œæˆæµ‹è¯•**ï¼šå›ç­”æ‰€æœ‰é—®é¢˜åæŸ¥çœ‹ç»“æœå’Œè§£é‡Š
5. **è¿½è¸ªè¿›åº¦**ï¼šå·²æŒæ¡çš„çŸ¥è¯†ç‚¹ä¼šåœ¨å›¾è°±ä¸­é«˜äº®æ˜¾ç¤º

### å­¦ä¹ å»ºè®®

- æŒ‰ç…§ä¾èµ–å…³ç³»ä»åŸºç¡€çŸ¥è¯†ç‚¹å¼€å§‹å­¦ä¹ 
- ä»”ç»†é˜…è¯»æ¯ä¸ªçŸ¥è¯†ç‚¹çš„å†…å®¹å’Œç¤ºä¾‹
- é€šè¿‡æµ‹è¯•éªŒè¯ç†è§£ç¨‹åº¦
- å®šæœŸå›é¡¾å·²æŒæ¡çš„çŸ¥è¯†ç‚¹

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ page.tsx           # ä¸»é¡µé¢
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ KnowledgeGraph.tsx # çŸ¥è¯†å›¾è°±ç»„ä»¶
â”‚   â”œâ”€â”€ KnowledgeDetail.tsx# çŸ¥è¯†ç‚¹è¯¦æƒ…ç»„ä»¶
â”‚   â””â”€â”€ QuizModal.tsx      # æµ‹è¯•å¼¹çª—ç»„ä»¶
â”œâ”€â”€ data/                  # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ knowledgeData.ts   # çŸ¥è¯†å›¾è°±æ•°æ®
â”œâ”€â”€ services/              # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ aiService.ts       # AI æœåŠ¡
â”‚   â””â”€â”€ masteryService.ts  # æŒæ¡çŠ¶æ€æœåŠ¡
â””â”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
    â””â”€â”€ knowledge.ts       # çŸ¥è¯†å›¾è°±ç›¸å…³ç±»å‹
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### KnowledgeGraph ç»„ä»¶

- ä½¿ç”¨ React Flow æ¸²æŸ“çŸ¥è¯†å›¾è°±
- æ”¯æŒèŠ‚ç‚¹æ‹–æ‹½ã€ç¼©æ”¾ã€å¹³ç§»
- é›†æˆæŒæ¡çŠ¶æ€æ˜¾ç¤º
- å¤„ç†èŠ‚ç‚¹ç‚¹å‡»äº‹ä»¶

#### KnowledgeDetail ç»„ä»¶

- æ˜¾ç¤ºçŸ¥è¯†ç‚¹è¯¦ç»†å†…å®¹
- æ”¯æŒ Markdown æ¸²æŸ“å’Œä»£ç é«˜äº®
- æä¾›æµ‹è¯•å…¥å£
- å±•ç¤ºå­¦ä¹ è¿›åº¦

#### QuizModal ç»„ä»¶

- AI ç”Ÿæˆæµ‹è¯•é¢˜ç›®
- äº¤äº’å¼ç­”é¢˜ç•Œé¢
- å®æ—¶ç»“æœåé¦ˆ
- è‡ªåŠ¨æ›´æ–°æŒæ¡çŠ¶æ€

### æ•°æ®ç»“æ„

#### KnowledgeNode æ¥å£

```typescript
interface KnowledgeNode {
  id: string;                    // å”¯ä¸€æ ‡è¯†
  title: string;                 // æ ‡é¢˜
  description: string;           // æè¿°
  category: 'basic' | 'advanced' | 'practical'; // åˆ†ç±»
  level: number;                 // éš¾åº¦ç­‰çº§
  prerequisites: string[];       // å‰ç½®çŸ¥è¯†ç‚¹
  content: string;               // è¯¦ç»†å†…å®¹ï¼ˆMarkdownï¼‰
  examples: string[];            // ä»£ç ç¤ºä¾‹
  position: { x: number; y: number }; // å›¾è°±ä½ç½®
  isMastered?: boolean;          // æ˜¯å¦å·²æŒæ¡
  masteredAt?: Date;             // æŒæ¡æ—¶é—´
}
```

### æ·»åŠ æ–°çŸ¥è¯†ç‚¹

1. **ç¼–è¾‘æ•°æ®æ–‡ä»¶**

```typescript
// src/data/knowledgeData.ts
export const knowledgeGraph: KnowledgeGraph = {
  nodes: [
    // æ·»åŠ æ–°çš„çŸ¥è¯†ç‚¹
    {
      id: 'new-concept',
      title: 'æ–°æ¦‚å¿µ',
      description: 'æ¦‚å¿µæè¿°',
      category: 'basic',
      level: 1,
      prerequisites: [],
      content: `# æ–°æ¦‚å¿µ\n\nè¯¦ç»†å†…å®¹...`,
      examples: ['ä»£ç ç¤ºä¾‹'],
      position: { x: 100, y: 100 }
    }
  ],
  edges: [
    // æ·»åŠ ä¾èµ–å…³ç³»
    { id: 'e-new', source: 'prerequisite-id', target: 'new-concept', type: 'prerequisite' }
  ]
};
```

2. **æ›´æ–°å›¾è°±å¸ƒå±€**

- è°ƒæ•´æ–°èŠ‚ç‚¹çš„ position åæ ‡
- ç¡®ä¿ä¸ä¸ç°æœ‰èŠ‚ç‚¹é‡å 
- ä¿æŒåˆç†çš„è§†è§‰å±‚æ¬¡

### AI æœåŠ¡é…ç½®

#### è·å– Google AI API Key

1. è®¿é—® [Google AI Studio](https://makersuite.google.com/app/apikey)
2. åˆ›å»ºæ–°çš„ API Key
3. å°† API Key æ·»åŠ åˆ°ç¯å¢ƒå˜é‡

#### è‡ªå®šä¹‰ AI æç¤ºè¯

```typescript
// src/services/aiService.ts
private createQuizPrompt(knowledge: KnowledgeNode, questionCount: number): string {
  return `åŸºäºä»¥ä¸‹ TypeScript çŸ¥è¯†ç‚¹ç”Ÿæˆ ${questionCount} é“é€‰æ‹©é¢˜ï¼š

${knowledge.content}

è¦æ±‚ï¼š
1. é¢˜ç›®è¦æœ‰å®é™…æ„ä¹‰å’Œåº”ç”¨ä»·å€¼
2. é€‰é¡¹è¦æœ‰è¿·æƒ‘æ€§ä½†ç­”æ¡ˆæ˜ç¡®
3. æä¾›è¯¦ç»†çš„è§£é‡Šè¯´æ˜
4. è¿”å›æ ‡å‡† JSON æ ¼å¼`;
}
```

### æ ·å¼å®šåˆ¶

#### Tailwind CSS é…ç½®

```javascript
// tailwind.config.js
module.exports = {
  content: ['./src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        // è‡ªå®šä¹‰é¢œè‰²
      }
    }
  },
  plugins: [require('daisyui')]
};
```

#### çŸ¥è¯†ç‚¹çŠ¶æ€æ ·å¼

```css
/* å·²æŒæ¡çŠ¶æ€ */
.mastered-node {
  @apply bg-green-100 border-green-500 text-green-800;
}

/* å­¦ä¹ ä¸­çŠ¶æ€ */
.learning-node {
  @apply bg-blue-100 border-blue-500 text-blue-800;
}
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–
npm test -- --watch

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm test -- --coverage
```

### æµ‹è¯•ç»“æ„

```
__tests__/
â”œâ”€â”€ components/           # ç»„ä»¶æµ‹è¯•
â”œâ”€â”€ services/            # æœåŠ¡æµ‹è¯•
â””â”€â”€ utils/               # å·¥å…·å‡½æ•°æµ‹è¯•
```

## ğŸ“¦ æ„å»ºéƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

```bash
npm start
```

### éƒ¨ç½²åˆ° Vercel

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. è‡ªåŠ¨éƒ¨ç½²

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint é…ç½®
- ç¼–å†™æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•

### é—®é¢˜åé¦ˆ

- ä½¿ç”¨ GitHub Issues æŠ¥å‘Š Bug
- æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤
- åŒ…å«ç¯å¢ƒä¿¡æ¯å’Œé”™è¯¯æ—¥å¿—

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [React Flow](https://reactflow.dev/) - å¼ºå¤§çš„å›¾å½¢å¯è§†åŒ–åº“
- [Next.js](https://nextjs.org/) - ä¼˜ç§€çš„ React æ¡†æ¶
- [Google AI](https://ai.google.dev/) - AI èƒ½åŠ›æ”¯æŒ
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨çš„ CSS æ¡†æ¶

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues: [é¡¹ç›®é—®é¢˜è¿½è¸ª](https://github.com/your-username/knowledge-graph-app/issues)
- Email: your-email@example.com

---

**å¼€å§‹ä½ çš„ TypeScript å­¦ä¹ ä¹‹æ—…å§ï¼** ğŸš€
